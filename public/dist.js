jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,a){return jQuery.easing[jQuery.easing.def](t,e,i,n,a)},easeInQuad:function(t,e,i,n,a){return n*(e/=a)*e+i},easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i},easeInOutQuad:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,a){return n*(e/=a)*e*e+i},easeOutCubic:function(t,e,i,n,a){return n*((e=e/a-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,a){return n*(e/=a)*e*e*e+i},easeOutQuart:function(t,e,i,n,a){return-n*((e=e/a-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,a){return n*(e/=a)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,a){return n*((e=e/a-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,a){return n*Math.sin(e/a*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+i},easeInExpo:function(t,e,i,n,a){return 0==e?i:n*Math.pow(2,10*(e/a-1))+i},easeOutExpo:function(t,e,i,n,a){return e==a?i+n:n*(-Math.pow(2,-10*e/a)+1)+i},easeInOutExpo:function(t,e,i,n,a){return 0==e?i:e==a?i+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+i},easeOutCirc:function(t,e,i,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+i},easeInOutCirc:function(t,e,i,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,a){var o=1.70158,s=0,r=n;if(0==e)return i;if(1==(e/=a))return i+n;if(s||(s=.3*a),r<Math.abs(n)){r=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/s))+i},easeOutElastic:function(t,e,i,n,a){var o=1.70158,s=0,r=n;if(0==e)return i;if(1==(e/=a))return i+n;if(s||(s=.3*a),r<Math.abs(n)){r=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin(2*(e*a-o)*Math.PI/s)+n+i},easeInOutElastic:function(t,e,i,n,a){var o=1.70158,s=0,r=n;if(0==e)return i;if(2==(e/=a/2))return i+n;if(s||(s=.3*a*1.5),r<Math.abs(n)){r=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/r);return 1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/s)+i:r*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*a-o)*Math.PI/s)*.5+n+i},easeInBack:function(t,e,i,n,a,o){return void 0==o&&(o=1.70158),n*(e/=a)*e*((o+1)*e-o)+i},easeOutBack:function(t,e,i,n,a,o){return void 0==o&&(o=1.70158),n*((e=e/a-1)*e*((o+1)*e+o)+1)+i},easeInOutBack:function(t,e,i,n,a,o){return void 0==o&&(o=1.70158),(e/=a/2)<1?n/2*e*e*(((o*=1.525)+1)*e-o)+i:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+i},easeInBounce:function(t,e,i,n,a){return n-jQuery.easing.easeOutBounce(t,a-e,0,n,a)+i},easeOutBounce:function(t,e,i,n,a){return(e/=a)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,a){return a/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,n,a)+i:.5*jQuery.easing.easeOutBounce(t,2*e-a,0,n,a)+.5*n+i}}),function(t){"use strict";function e(t){if(!t)return"";var e,i="";for(e=0;e<t.length;e+=1)i+=H[t.charAt(e)]||t.charAt(e);return i}function i(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(t){if(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange(),i=document.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}}}function a(t,e){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}}function o(t){return void 0!==t}function s(e,i,n,a){return o(e)&&!t.isArray(e)?t.isFunction(e)?e.apply(this,i):a:o(n)?s.call(this,n,i):a}function r(t,e,i,n){var a;return s.call(this,o(this.source[e])&&Object.prototype.hasOwnProperty.call(this.source[e],t)?this.source[e][t]:a,i,function(){return s.call(this,o(this[t][e])?this[t][e]:o(this[t][0])?this[t][0]:Object.prototype.hasOwnProperty.call(this,t)?this[t]:a,i,O[t][e]||O[t][0]||O[t],n)},n)}function l(e,i){return o(i)||(i=0),t.isArray(this.source)&&o(this.source[i])&&o(this.source[i][e])?this.source[i][e]:o(this[e])?t.isArray(this[e])?o(this[e][i])?this[e][i]:o(this[e][0])?this[e][0]:null:this[e]:null}function c(e,i,n,a){t.ajax(t.extend(!0,{url:e,type:"GET",async:!0,cache:!1,dataType:"json"},i.ajax)).done(function(e){n&&n.apply(this,t.makeArray(arguments))}).fail(function(t,e){a&&console.log("Request failed: "+e)})}function u(t,e){var i,n=!1;for(i=0;i<t.length;i+=1)if(n=r.call(this,"findRight",i,[t[i],e,i]))return{right:n,source:i};return!1}function h(t,e){var i;for(f.call(this,t,e),i=0;i<t.length;i+=1)t[i]=r.call(this,"filter",i,[t[i],e,i],t[i])}function d(e,i,n){var a,l=this;if(t.isFunction(l.source))l.source.apply(l,[e,function(t){i=[t],s.call(l,n,[e])},i,0]);else for(a=0;a<l.source.length;a+=1)if(t.isArray(l.source[a]))i[a]=l.source[a];else if(t.isFunction(l.source[a]))!function(a){l.source[a].apply(l,[e,function(o){if(i[a]||(i[a]=[]),o&&t.isArray(o))switch(l.appendMethod){case"replace":i[a]=o;break;default:i[a]=i[a].concat(o)}s.call(l,n,[e])},i,a])}(a);else switch(l.source[a].type){case"remote":if(o(l.source[a].url)&&(!o(l.source[a].minLength)||e.length>=l.source[a].minLength)){var u=r.call(l,"replace",a,[l.source[a].url,e],"");i[a]||(i[a]=[]),function(t){c(u,l.source[t],function(a){i[t]=a,s.call(l,n,[e])},l.debug)}(a)}break;default:i[a]=o(l.source[a].data)?l.source[a].data:l.source[a]}s.call(l,n,[e])}function f(t,e){for(var i=0;i<t.length;i++)t[i]=r.call(this,"preparse",i,[t[i],e],t[i])}function p(e,i){var n,a,o,s=[];for(n=0;n<e.length;n+=1)for(a=0;a<e[n].length&&!(s.length>=this.limit);a+=1)o=t(r.call(this,"render",n,[e[n][a],n,a,i],"")),o.data("source",n),o.data("pid",a),o.data("item",e[n][a]),s.push(o);return s}function g(t,e){return o(t.data("source"))&&o(t.data("pid"))&&o(e[t.data("source")])&&o(e[t.data("source")][t.data("pid")])?e[t.data("source")][t.data("pid")]:!1}function m(t,e){var i=g(t,e);return i?r.call(this,"getValue",t.data("source"),[i,t.data("source")]):o(t.data("value"))?decodeURIComponent(t.data("value")):t.html()}function y(e,i){function s(){return O.val()!=W?(W=O.val(),W.length<i.minLength?void O.trigger("close.xdsoft"):void d.call(i,W,H,function(t){if(t==W){var e;if(h.call(i,H,t),O.trigger("updateContent.xdsoft"),i.showHint&&W.length&&W.length<=O.prop("size")&&(e=u.call(i,H,W))){var n=r.call(i,"getTitle",e.source,[e.right,e.source]);n=t+n.substr(t.length),y.val(n)}else y.val("")}})):void 0}function l(t){var e,a=t.keyCode;switch(a){case _:case T:case B:case L:case P:if(t.shiftKey||t.ctrlKey)return!0;break;case S:case A:return!0;case w:case x:return j||M||t.shiftKey||t.ctrlKey?!0:(F=O.val(),Q=n(O[0]),a===w&&Q===F.length?((e=u.call(i,H,F))?O.trigger("pick.xdsoft",[r.call(i,"getValue",e.source,[e.right,e.source])]):O.trigger("pick.xdsoft"),t.preventDefault(),!1):!0);case $:return!0;case k:return z?(O.trigger("pick.xdsoft"),t.preventDefault(),!1):!0;case I:return t.preventDefault(),!0;case C:case b:if(!z)return O.trigger("open.xdsoft"),O.trigger("updateContent.xdsoft"),t.preventDefault(),!1;N=f.find("div.active");var o=a==C?"next":"prev",s=!0;return N.length?(N.removeClass("active"),N[o]().length?N[o]().addClass("active"):(O.val(W),s=!1)):f.children().eq(a==C?0:-1).addClass("active"),s&&O.trigger("timepick.xdsoft"),f.trigger("updatescroll.xdsoft"),t.preventDefault(),!1}}if(!t(e).hasClass("xdsoft_input")){var c=t('<div class="xdsoft_autocomplete"></div>'),f=t('<div class="xdsoft_autocomplete_dropdown"></div>'),y=t('<input readonly class="xdsoft_autocomplete_hint"/>'),O=t(e),E=0,H=[],z=!1,F="",W="",R="",N=null,Q=0;O.data("autocomplete_options",i),f.on("mousedown",function(t){t.preventDefault(),t.stopPropagation()}).on("updatescroll.xdsoft",function(){var t=f.find(".active");if(t.length){var e=t.position().top,i=t.outerHeight(!0),n=f.scrollTop(),a=f.height();0>e?f.scrollTop(n-Math.abs(e)):e+i>a&&f.scrollTop(n+e+i-a)}}),c.css({display:O.css("display"),width:O.css("width")}),i.style&&c.css(i.style),O.addClass("xdsoft_input").attr("autocomplete","off"),f.on("mousemove","div",function(){return t(this).hasClass("active")?!0:(f.find("div").removeClass("active"),void t(this).addClass("active"))}).on("mousedown","div",function(){f.find("div").removeClass("active"),t(this).addClass("active"),O.trigger("pick.xdsoft")}),O.data("xdsoft_autocomplete",H).after(c).on("pick.xdsoft",function(t,e){O.trigger("timepick.xdsoft",e),R=W=O.val(),O.trigger("close.xdsoft"),N=f.find("div.active").eq(0),N.length||(N=f.children().first()),O.trigger("selected.xdsoft",[g(N,H)])}).on("timepick.xdsoft",function(t,e){N=f.find("div.active"),N.length||(N=f.children().first()),N.length&&(O.val(o(e)?e:m.call(i,N,H)),O.trigger("autocompleted.xdsoft",[g(N,H)]),y.val(""),a(O[0],O.val().length))}).on("keydown.xdsoft input.xdsoft cut.xdsoft paste.xdsoft",function(t){var e=l(t);return e===!1||e===!0?e:(setTimeout(function(){s()},1),void s())}).on("change.xdsoft",function(t){W=O.val()}),W=O.val(),d.call(i,O.val(),H,function(t){h.call(i,H,t)}),i.openOnFocus&&O.on("focusin.xdsoft",function(){O.trigger("open.xdsoft"),O.trigger("updateContent.xdsoft")}),i.closeOnBlur&&O.on("focusout.xdsoft",function(){O.trigger("close.xdsoft")}),c.append(O).append(f);var V=!1,q=0;O.on("updateHelperPosition.xdsoft",function(){clearTimeout(q),q=setTimeout(function(){if(c.css({display:O.css("display"),width:O.css("width")}),f.css(t.extend(!0,{left:O.position().left,top:O.position().top+parseInt(O.css("marginTop"))+parseInt(O[0].offsetHeight),marginLeft:O.css("marginLeft"),marginRight:O.css("marginRight"),width:"100%"==i.dropdownWidth?O[0].offsetWidth:i.dropdownWidth},i.dropdownStyle)),i.showHint){var e=getComputedStyle(O[0],"");y[0].style.cssText=e.cssText,y.css({"box-sizing":e.boxSizing,borderStyle:"solid",borderCollapse:e.borderCollapse,borderLeftWidth:e.borderLeftWidth,borderRightWidth:e.borderRightWidth,borderTopWidth:e.borderTopWidth,borderBottomWidth:e.borderBottomWidth,paddingBottom:e.paddingBottom,marginBottom:e.marginBottom,paddingTop:e.paddingTop,marginTop:e.marginTop,paddingLeft:e.paddingLeft,marginLeft:e.marginLeft,paddingRight:e.paddingRight,marginRight:e.marginRight,maxHeight:e.maxHeight,minHeight:e.minHeight,maxWidth:e.maxWidth,minWidth:e.minWidth,width:e.width,letterSpacing:e.letterSpacing,lineHeight:e.lineHeight,outlineWidth:e.outlineWidth,fontFamily:e.fontFamily,fontVariant:e.fontVariant,fontStyle:O.css("fontStyle"),fontSize:O.css("fontSize"),fontWeight:O.css("fontWeight"),flex:e.flex,justifyContent:e.justifyContent,borderRadius:e.borderRadius,"-webkit-box-shadow":"none","box-shadow":"none"}),O.css("font-size",O.css("fontSize")),y.innerHeight(O.innerHeight()),y.css(t.extend(!0,{position:"absolute",zIndex:"1",borderColor:"transparent",outlineColor:"transparent",left:O.position().left,top:O.position().top,background:O.css("background")},i.hintStyle)),V!==!1?y.css("background",V):V=O.css("background");try{O[0].style.setProperty("background","transparent","important")}catch(n){O.css("background","transparent")}c.append(y)}},i.timeoutUpdate||1)}),O.is(":visible")?O.trigger("updateHelperPosition.xdsoft"):v=setInterval(function(){O.is(":visible")&&(O.trigger("updateHelperPosition.xdsoft"),clearInterval(v))},100),t(window).on("resize",function(){c.css({width:"auto"}),O.trigger("updateHelperPosition.xdsoft")}),O.on("close.xdsoft",function(){z&&(f.hide(),y.val(""),i.autoselect||O.val(W),z=!1)}).on("updateContent.xdsoft",function(){var e=p.call(i,H,O.val()),n=10;return e.length?(O.trigger("open.xdsoft"),t(e).each(function(){this.css(t.extend(!0,{paddingLeft:O.css("paddingLeft"),paddingRight:O.css("paddingRight")},i.itemStyle))}),f.html(e),n=i.visibleHeight?i.visibleHeight:i.visibleLimit*((e[0]?e[0].outerHeight(!0):0)||i.defaultHeightItem)+5,void f.css("maxHeight",n+"px")):void O.trigger("close.xdsoft")}).on("open.xdsoft",function(){z||(f.show(),z=!0)}).on("destroy.xdsoft",function(){O.removeClass("xdsoft"),c.after(O),c.remove(),clearTimeout(E),O.data("xdsoft_autocomplete",null),O.off(".xdsoft")})}}var v,x=37,w=39,b=38,C=40,$=9,A=17,S=16,k=13,I=27,_=65,T=67,B=86,L=90,P=89,O={},j=!1,M=!1,E={},H={"ẚ":"a","Á":"a","á":"a","À":"a","à":"a","Ă":"a","ă":"a","Ắ":"a","ắ":"a","Ằ":"a","ằ":"a","Ẵ":"a","ẵ":"a","Ẳ":"a","Ẫ":"a","ẫ":"a","Ẩ":"a","ẩ":"a","Ǎ":"a","ǎ":"a","Å":"a","å":"a","Ǻ":"a","ǻ":"a","Ä":"a","ä":"a","Ǟ":"a","ǟ":"a","Ã":"a","ã":"a","Ȧ":"a","ȧ":"a","Ǡ":"a","ǡ":"a","Ą":"a","ą":"a","Ā":"a","ā":"a","Ả":"a","ả":"a","Ȁ":"a","ȁ":"a","Ȃ":"a","ȃ":"a","Ạ":"a","ạ":"a","Ặ":"a","ặ":"a","Ậ":"a","ậ":"a","Ḁ":"a","ḁ":"a","Ⱥ":"a","ⱥ":"a","Ǽ":"a","ǽ":"a","Ǣ":"a","ǣ":"a","Ḃ":"b","ḃ":"b","Ḅ":"b","ḅ":"b","Ḇ":"b","ḇ":"b","Ƀ":"b","ƀ":"b","ᵬ":"b","Ɓ":"b","ɓ":"b","Ƃ":"b","ƃ":"b","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Č":"c","č":"c","Ċ":"c","ċ":"c","Ç":"c","ç":"c","Ḉ":"c","ḉ":"c","Ȼ":"c","ȼ":"c","Ƈ":"c","ƈ":"c","ɕ":"c","Ď":"d","ď":"d","Ḋ":"d","ḋ":"d","Ḑ":"d","ḑ":"d","Ḍ":"d","ḍ":"d","Ḓ":"d","ḓ":"d","Ḏ":"d","ḏ":"d","Đ":"d","đ":"d","ᵭ":"d","Ɖ":"d","ɖ":"d","Ɗ":"d","ɗ":"d","Ƌ":"d","ƌ":"d","ȡ":"d","ð":"d","É":"e","Ə":"e","Ǝ":"e","ǝ":"e","é":"e","È":"e","è":"e","Ĕ":"e","ĕ":"e","Ê":"e","ê":"e","Ế":"e","ế":"e","Ề":"e","ề":"e","Ễ":"e","ễ":"e","Ể":"e","ể":"e","Ě":"e","ě":"e","Ë":"e","ë":"e","Ẽ":"e","ẽ":"e","Ė":"e","ė":"e","Ȩ":"e","ȩ":"e","Ḝ":"e","ḝ":"e","Ę":"e","ę":"e","Ē":"e","ē":"e","Ḗ":"e","ḗ":"e","Ḕ":"e","ḕ":"e","Ẻ":"e","ẻ":"e","Ȅ":"e","ȅ":"e","Ȇ":"e","ȇ":"e","Ẹ":"e","ẹ":"e","Ệ":"e","ệ":"e","Ḙ":"e","ḙ":"e","Ḛ":"e","ḛ":"e","Ɇ":"e","ɇ":"e","ɚ":"e","ɝ":"e","Ḟ":"f","ḟ":"f","ᵮ":"f","Ƒ":"f","ƒ":"f","Ǵ":"g","ǵ":"g","Ğ":"g","ğ":"g","Ĝ":"g","ĝ":"g","Ǧ":"g","ǧ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ḡ":"g","ḡ":"g","Ǥ":"g","ǥ":"g","Ɠ":"g","ɠ":"g","Ĥ":"h","ĥ":"h","Ȟ":"h","ȟ":"h","Ḧ":"h","ḧ":"h","Ḣ":"h","ḣ":"h","Ḩ":"h","ḩ":"h","Ḥ":"h","ḥ":"h","Ḫ":"h","ḫ":"h",H:"h","̱":"h","ẖ":"h","Ħ":"h","ħ":"h","Ⱨ":"h","ⱨ":"h","Í":"i","í":"i","Ì":"i","ì":"i","Ĭ":"i","ĭ":"i","Î":"i","î":"i","Ǐ":"i","ǐ":"i","Ï":"i","ï":"i","Ḯ":"i","ḯ":"i","Ĩ":"i","ĩ":"i","İ":"i",i:"i","Į":"i","į":"i","Ī":"i","ī":"i","Ỉ":"i","ỉ":"i","Ȉ":"i","ȉ":"i","Ȋ":"i","ȋ":"i","Ị":"i","ị":"i","Ḭ":"i","ḭ":"i",I:"i","ı":"i","Ɨ":"i","ɨ":"i","Ĵ":"j","ĵ":"j",J:"j","̌":"j","ǰ":"j","ȷ":"j","Ɉ":"j","ɉ":"j","ʝ":"j","ɟ":"j","ʄ":"j","Ḱ":"k","ḱ":"k","Ǩ":"k","ǩ":"k","Ķ":"k","ķ":"k","Ḳ":"k","ḳ":"k","Ḵ":"k","ḵ":"k","Ƙ":"k","ƙ":"k","Ⱪ":"k","ⱪ":"k","Ĺ":"a","ĺ":"l","Ľ":"l","ľ":"l","Ļ":"l","ļ":"l","Ḷ":"l","ḷ":"l","Ḹ":"l","ḹ":"l","Ḽ":"l","ḽ":"l","Ḻ":"l","ḻ":"l","Ł":"l","ł":"l","̣":"l","Ŀ":"l","ŀ":"l","Ƚ":"l","ƚ":"l","Ⱡ":"l","ⱡ":"l","Ɫ":"l","ɫ":"l","ɬ":"l","ɭ":"l","ȴ":"l","Ḿ":"m","ḿ":"m","Ṁ":"m","ṁ":"m","Ṃ":"m","ṃ":"m","ɱ":"m","Ń":"n","ń":"n","Ǹ":"n","ǹ":"n","Ň":"n","ň":"n","Ñ":"n","ñ":"n","Ṅ":"n","ṅ":"n","Ņ":"n","ņ":"n","Ṇ":"n","ṇ":"n","Ṋ":"n","ṋ":"n","Ṉ":"n","ṉ":"n","Ɲ":"n","ɲ":"n","Ƞ":"n","ƞ":"n","ɳ":"n","ȵ":"n",N:"n","̈":"n",n:"n","Ó":"o","ó":"o","Ò":"o","ò":"o","Ŏ":"o","ŏ":"o","Ô":"o","ô":"o","Ố":"o","ố":"o","Ồ":"o","ồ":"o","Ỗ":"o","ỗ":"o","Ổ":"o","ổ":"o","Ǒ":"o","ǒ":"o","Ö":"o","ö":"o","Ȫ":"o","ȫ":"o","Ő":"o","ő":"o","Õ":"o","õ":"o","Ṍ":"o","ṍ":"o","Ṏ":"o","ṏ":"o","Ȭ":"o","ȭ":"o","Ȯ":"o","ȯ":"o","Ȱ":"o","ȱ":"o","Ø":"o","ø":"o","Ǿ":"o","ǿ":"o","Ǫ":"o","ǫ":"o","Ǭ":"o","ǭ":"o","Ō":"o","ō":"o","Ṓ":"o","ṓ":"o","Ṑ":"o","ṑ":"o","Ỏ":"o","ỏ":"o","Ȍ":"o","ȍ":"o","Ȏ":"o","ȏ":"o","Ơ":"o","ơ":"o","Ớ":"o","ớ":"o","Ờ":"o","ờ":"o","Ỡ":"o","ỡ":"o","Ở":"o","ở":"o","Ợ":"o","ợ":"o","Ọ":"o","ọ":"o","Ộ":"o","ộ":"o","Ɵ":"o","ɵ":"o","Ṕ":"p","ṕ":"p","Ṗ":"p","ṗ":"p","Ᵽ":"p","Ƥ":"p","ƥ":"p",P:"p","̃":"p",p:"p","ʠ":"q","Ɋ":"q","ɋ":"q","Ŕ":"r","ŕ":"r","Ř":"r","ř":"r","Ṙ":"r","ṙ":"r","Ŗ":"r","ŗ":"r","Ȑ":"r","ȑ":"r","Ȓ":"r","ȓ":"r","Ṛ":"r","ṛ":"r","Ṝ":"r","ṝ":"r","Ṟ":"r","ṟ":"r","Ɍ":"r","ɍ":"r","ᵲ":"r","ɼ":"r","Ɽ":"r","ɽ":"r","ɾ":"r","ᵳ":"r","ß":"s","Ś":"s","ś":"s","Ṥ":"s","ṥ":"s","Ŝ":"s","ŝ":"s","Š":"s","š":"s","Ṧ":"s","ṧ":"s","Ṡ":"s","ṡ":"s","ẛ":"s","Ş":"s","ş":"s","Ṣ":"s","ṣ":"s","Ṩ":"s","ṩ":"s","Ș":"s","ș":"s","ʂ":"s",S:"s","̩":"s",s:"s","Þ":"t","þ":"t","Ť":"t","ť":"t",T:"t","ẗ":"t","Ṫ":"t","ṫ":"t","Ţ":"t","ţ":"t","Ṭ":"t","ṭ":"t","Ț":"t","ț":"t","Ṱ":"t","ṱ":"t","Ṯ":"t","ṯ":"t","Ŧ":"t","ŧ":"t","Ⱦ":"t","ⱦ":"t","ᵵ":"t","ƫ":"t","Ƭ":"t","ƭ":"t","Ʈ":"t","ʈ":"t","ȶ":"t","Ú":"u","ú":"u","Ù":"u","ù":"u","Ŭ":"u","ŭ":"u","Û":"u","û":"u","Ǔ":"u","ǔ":"u","Ů":"u","ů":"u","Ü":"u","ü":"u","Ǘ":"u","ǘ":"u","Ǜ":"u","ǜ":"u","Ǚ":"u","ǚ":"u","Ǖ":"u","ǖ":"u","Ű":"u","ű":"u","Ũ":"u","ũ":"u","Ṹ":"u","ṹ":"u","Ų":"u","ų":"u","Ū":"u","ū":"u","Ṻ":"u","ṻ":"u","Ủ":"u","ủ":"u","Ȕ":"u","ȕ":"u","Ȗ":"u","ȗ":"u","Ư":"u","ư":"u","Ứ":"u","ứ":"u","Ừ":"u","ừ":"u","Ữ":"u","ữ":"u","Ử":"u","ử":"u","Ự":"u","ự":"u","Ụ":"u","ụ":"u","Ṳ":"u","ṳ":"u","Ṷ":"u","ṷ":"u","Ṵ":"u","ṵ":"u","Ʉ":"u","ʉ":"u","Ṽ":"v","ṽ":"v","Ṿ":"v","ṿ":"v","Ʋ":"v","ʋ":"v","Ẃ":"w","ẃ":"w","Ẁ":"w","ẁ":"w","Ŵ":"w","ŵ":"w",W:"w","̊":"w","ẘ":"w","Ẅ":"w","ẅ":"w","Ẇ":"w","ẇ":"w","Ẉ":"w","ẉ":"w","Ẍ":"x","ẍ":"x","Ẋ":"x","ẋ":"x","Ý":"y","ý":"y","Ỳ":"y","ỳ":"y","Ŷ":"y","ŷ":"y",Y:"y","ẙ":"y","Ÿ":"y","ÿ":"y","Ỹ":"y","ỹ":"y","Ẏ":"y","ẏ":"y","Ȳ":"y","ȳ":"y","Ỷ":"y","ỷ":"y","Ỵ":"y","ỵ":"y","ʏ":"y","Ɏ":"y","ɏ":"y","Ƴ":"y","ƴ":"y","Ź":"z","ź":"z","Ẑ":"z","ẑ":"z","Ž":"z","ž":"z","Ż":"z","ż":"z","Ẓ":"z","ẓ":"z","Ẕ":"z","ẕ":"z","Ƶ":"z","ƶ":"z","Ȥ":"z","ȥ":"z","ʐ":"z","ʑ":"z","Ⱬ":"z","ⱬ":"z","Ǯ":"z","ǯ":"z","ƺ":"z","２":"2","６":"6","Ｂ":"B","Ｆ":"F","Ｊ":"J","Ｎ":"N","Ｒ":"R","Ｖ":"V","Ｚ":"Z","ｂ":"b","ｆ":"f","ｊ":"j","ｎ":"n","ｒ":"r","ｖ":"v","ｚ":"z","１":"1","５":"5","９":"9","Ａ":"A","Ｅ":"E","Ｉ":"I","Ｍ":"M","Ｑ":"Q","Ｕ":"U","Ｙ":"Y","ａ":"a","ｅ":"e","ｉ":"i","ｍ":"m","ｑ":"q","ｕ":"u","ｙ":"y","０":"0","４":"4","８":"8","Ｄ":"D","Ｈ":"H","Ｌ":"L","Ｐ":"P","Ｔ":"T","Ｘ":"X","ｄ":"d","ｈ":"h","ｌ":"l","ｐ":"p","ｔ":"t","ｘ":"x","３":"3","７":"7","Ｃ":"C","Ｇ":"G","Ｋ":"K","Ｏ":"O","Ｓ":"S","Ｗ":"W","ｃ":"c","ｇ":"g","ｋ":"k","ｏ":"o","ｓ":"s","ｗ":"w","ẳ":"a","Â":"a","â":"a","Ấ":"a","ấ":"a","Ầ":"a","ầ":"a"};void 0===window.getComputedStyle&&(window.getComputedStyle=function(){function t(e,i,n,a){var o,s=i[n],r=parseFloat(s),l=s.split(/\d/)[0];return a=null!==a?a:/%|em/.test(l)&&e.parentElement?t(e.parentElement,e.parentElement.currentStyle,"fontSize",null):16,o="fontSize"===n?a:/width/i.test(n)?e.clientWidth:e.clientHeight,"em"===l?r*a:"in"===l?96*r:"pt"===l?96*r/72:"%"===l?r/100*o:r}function e(t,e){var i="border"===e?"Width":"",n=e+"Top"+i,a=e+"Right"+i,o=e+"Bottom"+i,s=e+"Left"+i;t[e]=(t[n]===t[a]===t[o]===t[s]?[t[n]]:t[n]===t[o]&&t[s]===t[a]?[t[n],t[a]]:t[s]===t[a]?[t[n],t[a],t[o]]:[t[n],t[a],t[o],t[s]]).join(" ")}function i(i){var n,a=i.currentStyle,o=this,s=t(i,a,"fontSize",null);for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(/width|height|margin.|padding.|border.+W/.test(n)&&"auto"!==o[n]?o[n]=t(i,a,n,s)+"px":"styleFloat"===n?o["float"]=a[n]:o[n]=a[n]);return e(o,"margin"),e(o,"padding"),e(o,"border"),o.fontSize=s+"px",o}function n(t){return new i(t)}return i.prototype={constructor:i,getPropertyPriority:function(){},getPropertyValue:function(t){return this[t]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},n}(this)),t(document).on("keydown.xdsoftctrl",function(t){t.keyCode===A&&(j=!0),t.keyCode===S&&(j=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode===A&&(j=!1),t.keyCode===S&&(j=!1)}),O={minLength:0,valueKey:"value",titleKey:"title",highlight:!0,showHint:!0,dropdownWidth:"100%",dropdownStyle:{},itemStyle:{},hintStyle:!1,style:!1,debug:!0,openOnFocus:!1,closeOnBlur:!0,autoselect:!1,accents:!0,replaceAccentsForRemote:!0,limit:20,visibleLimit:20,visibleHeight:0,defaultHeightItem:30,timeoutUpdate:10,get:function(t,e){return l.call(this,t,e)},replace:[function(t,i){return this.replaceAccentsForRemote&&(i=e(i)),t.replace("%QUERY%",encodeURIComponent(i))}],equal:function(t,e){return e.toLowerCase()==t.substr(0,e.length).toLowerCase()},findRight:[function(t,e,i){var n,a="";if(t)for(n=0;n<t.length;n+=1)if(a=r.call(this,"getValue",i,[t[n],i]),r.call(this,"equal",i,[a,e,i],!1))return t[n];return!1}],valid:[function(t,i){return this.accents&&(t=e(t),i=e(i)),-1!=t.toLowerCase().indexOf(i.toLowerCase())}],filter:[function(t,e,i){var n,a=[],s="";if(t)for(n=0;n<t.length;n+=1)s=o(t[n][this.get("valueKey",i)])?t[n][this.get("valueKey",i)]:t[n].toString(),r.call(this,"valid",i,[s,e])&&a.push(t[n]);return a}],preparse:function(t){return t},getValue:[function(t,e){return o(t[this.get("valueKey",e)])?t[this.get("valueKey",e)]:t.toString()}],getTitle:[function(t,e){return o(t[this.get("titleKey",e)])?t[this.get("titleKey",e)]:t.toString()}],render:[function(t,n,a,s){var r,l,c,u=o(t[this.get("valueKey",n)])?t[this.get("valueKey",n)]:t.toString(),h=(o(t[this.get("titleKey",n)])?t[this.get("titleKey",n)]:u)+"",d="",f="",p="",g="",m=0;if(this.highlight)if(this.accents){for(f=e(h).toLowerCase().replace(/[<>]+/g,""),d=e(s).toLowerCase().replace(/[<>]+/g,""),p=f.replace(new RegExp(i(d),"g"),"<"+d+">"),c=0;c<p.length;c+=1)r=h.charAt(m),l=p.charAt(c),"<"===l?g+="<b>":">"===l?g+="</b>":(m+=1,g+=r);h=g}else h=h.replace(new RegExp("("+i(s)+")","i"),"<b>$1</b>");return"<div "+(u==s?'class="active"':"")+' data-value="'+encodeURIComponent(u)+'">'+h+"</div>"}],appendMethod:"concat",source:[]},E={destroy:function(){return this.trigger("destroy.xdsoft")},update:function(){return this.trigger("updateHelperPosition.xdsoft")},options:function(e){return this.data("autocomplete_options")&&t.isPlainObject(e)&&this.data("autocomplete_options",t.extend(!0,this.data("autocomplete_options"),e)),this},setSource:function(e,i){if(this.data("autocomplete_options")&&(t.isPlainObject(e)||t.isFunction(e)||t.isArray(e))){var n=this.data("autocomplete_options"),a=this.data("xdsoft_autocomplete"),o=n.source;void 0===i||isNaN(i)?t.isFunction(e)?this.data("autocomplete_options").source=e:t.extend(!0,o,e):o[i]=t.isPlainObject(e)||t.isArray(e)?t.extend(!0,t.isArray(e)?[]:{},e):e,d.call(n,this.val(),a,function(t){h.call(n,a,t)})}return this},getSource:function(t){if(this.data("autocomplete_options")){var e=this.data("autocomplete_options").source;return void 0!==t&&!isNaN(t)&&e[t]?e[t]:e}return null}},t.fn.autocomplete=function(e,i,n){return"string"===t.type(e)&&E[e]?E[e].call(this,i,n):this.each(function(){var i=t.extend(!0,{},O,e);y(this,i)})}}(jQuery),function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function i(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}function n(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.fixTitle()}n.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](i),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var a,o=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=n[0].offsetWidth,r=n[0].offsetHeight,l=e(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":a={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-s/2};break;case"s":a={top:o.top-r-this.options.offset,left:o.left+o.width/2-s/2};break;case"e":a={top:o.top+o.height/2-r/2,left:o.left-s-this.options.offset};break;case"w":a={top:o.top+o.height/2-r/2,left:o.left+o.width+this.options.offset}}2==l.length&&(a.left="w"==l.charAt(1)?o.left+o.width/2-15:o.left+o.width/2-s+15),n.css(a).addClass("tipsy-"+l),n.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&n.addClass(e(this.options.className,this.$element[0])),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;this.fixTitle();var t,i=this.options;return"string"==typeof i.title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function i(i){var a=t.data(i,"tipsy");return a||(a=new n(i,t.fn.tipsy.elementOptions(i,e)),t.data(i,"tipsy",a)),a}function a(){var t=i(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn))}function o(){var t=i(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e){var s=this.data("tipsy");return s&&s[e](),this}if(e=t.extend({},t.fn.tipsy.defaults,e),e.live||this.each(function(){i(this)}),"manual"!=e.trigger){var r=e.live?"live":"bind",l="hover"==e.trigger?"mouseenter":"focus",c="hover"==e.trigger?"mouseleave":"blur";this[r](l,a)[r](c,o)}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each(function(){var e=t.data(this,"tipsy-pointee");e&&i(e)||t(this).remove()})},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,i){return function(){var n={ns:i[0],ew:i.length>1?i[1]:!1},a=t(document).scrollTop()+e,o=t(document).scrollLeft()+e,s=t(this);return s.offset().top<a&&(n.ns="n"),s.offset().left<o&&(n.ew="w"),t(window).width()+t(document).scrollLeft()-s.offset().left<e&&(n.ew="e"),t(window).height()+t(document).scrollTop()-s.offset().top<e&&(n.ns="s"),n.ns+(n.ew?n.ew:"")}}}(jQuery),function(){function t(t,e){this.data=e,e.sort(i("num_artists")),this.$chart=$("#"+t.allChartCssId),this.addArtistsToChart()}function e(t){return t.split(" ").join("_")}function i(t){return function(e,i){if("object"==typeof e&&"object"==typeof i){var n=e[t],a=i[t];return n===a?0:typeof propetyValueM==typeof propertyVaueN?a>n?1:-1:a>typeof n?1:-1}throw{type:"Error",message:"Expected objects got something else"}}}window.AllArtists={},window.AllArtists.createChart=function(e,i){return new t(e,i)},t.prototype={sortNames:function(t){t.sort();var i=[],n=t[0][0],a=0;return t.forEach(function(t){t[0]===n?0===i.length?i.push({startingLetter:n,names:[e(t)]}):i[a].names.push(e(t)):(n=t[0],a++,i[a]={startingLetter:n,names:[e(t)]})}),i},addArtistsToChart:function(){var t=Handlebars.compile(this.$chart.children("#template-allArtists").html());this.$chart.append(t(this.data))}}}(),function(){function t(t,e){this.name=t,this.data=e,this.selector=t.split(" ").join("_"),this.$artist=$("#"+this.selector),this.previewUrl=densest_tracks_data[this.selector]||"none",this.$artist.css("background-image","url(img/artist_images_40px/"+this.selector+".jpg)"),this.tooltipTemplate=$.trim($("#tooltipTemplate").html()),this.numArtists=93,this.tooltipStates={COMPACT:1,EXPANDED:2},this.currentTooltipState=this.tooltipStates.COMPACT,this.tooltipOriginalContent=$("#tooltipTemplate").html().replace(/{{rank}}/i,this.data.rank_vocab).replace(/{{artistName}}/i,"The Black Eyed Peas"===this.data.name?"T.B.E.P":this.data.name).replace(/{{vocab}}/i,window.VocabPlot.formatWithCommas(this.data.vocab_len)).replace(/{{total}}/i,this.numArtists),this.tooltipExpandedContent=$("#tooltipTemplateExpanded").html().replace(/{{rank}}/i,this.data.rank_vocab).replace(/{{artistName}}/i,"The Black Eyed Peas"===this.data.name?"T.B.E.P":this.data.name).replace(/{{vocab}}/i,window.VocabPlot.formatWithCommas(this.data.vocab_len)).replace(/{{total}}/i,this.numArtists).replace(/{{sales}}/i,this.data.certified_sales).replace(/{{rank_sales}}/i,this.data.rank_sales).replace(/{{learning_rate}}/i,Math.floor(this.data.learning_rate)),this.events.hover.call(this),this.events.click.call(this)}window.Artist={},window.Artist.newArtist=function(e,i){return new t(e,i)},t.prototype={dim:function(){this.$artist.removeClass("normalArtist"),this.$artist.addClass("dimArtist")},undim:function(){this.$artist.removeClass("dimArtist"),this.$artist.addClass("normalArtist")},highlight:function(){this.$artist.hasClass("highlightedArtist")||(this.$artist.addClass("highlightedArtist"),this.$artist.tipsy("show"))},unhighlight:function(){this.$artist.hasClass("highlightedArtist")&&(this.$artist.removeClass("highlightedArtist"),this.$artist.tipsy("hide"))}},t.prototype.events={click:function(){var t=this;this.$artist.on("click",function(){var e=$(this).children("#embed_player").length>=1;e?($(this).children("#embed_player").remove(),$(this).children(".playIconOverlay").children(".audio_control_icon").toggle()):($(this).append('<embed id="embed_player" src="'+t.previewUrl+'" autostart="true" hidden="true"></embed>'),$(this).children(".playIconOverlay").children(".audio_control_icon").toggle())})},hover:function(){var t=this;this.$artist.tipsy({gravity:"Eminem"===t.data.name?"n":"s",html:!0,opacity:1,offset:3,title:function(){return t.tooltipExpandedContent}}),this.$artist.on("mouseenter",function(){$(this).append('<div class = "playIconOverlay"><span class="audio_control_icon"><img src="img/icons/icon_play.png" alt="Play" /> </span> <span class="audio_control_icon" style="display: none;"> <img src="img/icons/icon_stop.png" alt="Stop" /> </span> </div> ')}),this.$artist.on("mouseleave",function(){$(this).children().remove()})}}}(),function(){var t=$(window);expandButton={init:function(t){this.button=t.button,this.target=t.target,this.initialButtonPos=this.button.offset(),this.scrollLimits=this.target.offset(),this.button.on("click",this.expandListToggle)},expandListToggle:function(){var e=expandButton;expandButton.target.toggleClass("expanded"),expandButton.target.hasClass("expanded")?(expandButton.target.children(".overlay").remove(),$(this).text("SHOW LESS"),e.attachButtonToBottom($(this))):(expandButton.target.prepend($("<div></div>",{"class":"overlay"})),$(this).text("SHOW ALL"),e.restoreButtonPosition($(this)),t.scrollTop()>expandButton.getLowerScrollLimit()&&t.scrollTop(1100))},attachButtonToBottom:function(e){e.addClass("attachedToBottom"),e.css({top:t.height()-45+"px"})},restoreButtonPosition:function(t){var e=this;t.removeClass("attachedToBottom"),console.log(e.target.height(),e.target.width(),e.target.offset().top),t.css({position:"absolute",top:e.target.offset().top+164+"px"})},getUpperScrollLimit:function(){return this.scrollLimits.top},getLowerScrollLimit:function(){return this.scrollLimits.top+this.target.height()-this.button.height()}},t.on("scroll",function(){var e=t.scrollTop();e>expandButton.getLowerScrollLimit()-t.height()+100?expandButton.button.hasClass("attachedToBottom")&&(expandButton.button.removeClass("attachedToBottom"),expandButton.button.css({position:"absolute",top:expandButton.getLowerScrollLimit()-480+"px"})):e<expandButton.getLowerScrollLimit()-t.height()+100&&0===$(".overlay").length&&expandButton.attachButtonToBottom(expandButton.button);

})}(),function(){function t(t){return function(e,i){if("object"==typeof e&&"object"==typeof i){var n=e[t],a=i[t];return n===a?0:typeof propetyValueM==typeof propertyVaueN?a>n?1:-1:a>typeof n?1:-1}throw{type:"Error",message:"Expected objects got something else"}}}window.GenrePlot={init:function(e){this.data=genre_data,this.data.sort(t("avg_vocab")),this.container=e.container,this.scaleContainer=d3.select("#"+e.scaleContainerCssId),this.legendContainer=d3.select("#"+e.legendContainerCssId),this.xScale=d3.scale.linear().domain([0,d3.max(this.data,function(t){return t.avg_vocab})]).range([0,$("#"+e.scaleContainerCssId).width()]),e.namesContainer.append(Handlebars.compile(e.genreNameTemplate)(this.data)),this.scaleContainer.style("height",this.container.height()+"px"),this.drawPlot([500,2e3,3500,5e3]);var i=$(window),n=$("#"+e.legendContainerCssId),a=n.offset(),o=this;i.on("scroll",function(){var t=o.container.offset(),e=t.top,s=e+o.container.height()-30,r=i.scrollTop();n.css(r>e&&s>r?{position:"fixed",top:"30px",left:a.left}:{position:"absolute",top:t.top-300})})},drawPlot:function(t){this.drawBars(),this.drawScale(t),this.drawSeparators(),this.drawScaleLegend(t)},drawScale:function(t){var e=this,i="#303030";this.scaleContainer.selectAll("line").data(t).enter().append("line").attr("x1",function(t){return e.xScale(t)}).attr("x2",function(t){return e.xScale(t)}).attr("y1",0).attr("y2",this.container.height()).style("stroke",i).style("stroke-width",1)},drawScaleLegend:function(t){var e=this,i=100,n=30,a="#303030",o="#FFFFFF",s=8;this.legendContainer.selectAll("rect").data(t).enter().append("rect").attr("x",function(t){return e.xScale(t)-.5}).attr("y",0).attr("width",i).attr("height",n).style("fill",a),this.legendContainer.selectAll("text").data(t).enter().append("text").attr("x",function(t){return e.xScale(t)+s}).attr("y",21).text(function(t){return t+" WORDS"}).attr("fill",o).style("font-family","Oswald")},drawBars:function(){var t=this,e=25,i=30,n=13,a="#D6C06D";this.scaleContainer.selectAll("rect").data(this.data).enter().append("rect").attr("x",0).attr("y",function(t,a){return a*(i+e)+n}).attr("width",function(e){return t.xScale(e.avg_vocab)}).attr("height",i).style("fill",a)},drawSeparators:function(){var t=this,e=new Array(this.data.length+4-1),i="#BABABA",n=54.5,a=55;this.scaleContainer.selectAll("line").data(e).enter().append("line").attr("y1",function(t,e){return(e-4)*a+n}).attr("y2",function(t,e){return(e-4)*a+n}).attr("x1",0).attr("x2",function(e){return t.xScale(6500)}).style("stroke",i).style("stroke-width",1)}}}(),function(){Array.prototype.pushUniqueString=function(t){this.indexOf(t)>-1||this.push(t)},polyglotArtists={init:function(t,e){this.uniqueLanguages=this.getUniqueLanguages(e),this.config=t;var i=Handlebars.compile(t.template);t.container.append(i(e));var n=Handlebars.compile(t.languagesTemplate);t.languagesContainer.append(n(this.uniqueLanguages)),$(".polyglotImage").each(function(){$(this).on("mouseover",function(){var t=$(this).attr("id");e.forEach(function(e){var i="polyglot_"+e.name;t===i&&polyglotArtists.highlightLanguages(e.languages)})})}),$(".polyglotImage").on("mouseout",function(){$(".polyglotLanguage").each(function(){$(this).removeClass("languageHighlight")})})},getUniqueLanguages:function(t){var e=[];return t.forEach(function(t){t.languages.forEach(function(t){e.pushUniqueString(t)})}),e},highlightLanguages:function(t){t.forEach(function(t){polyglotArtists.config.languagesContainer.children("#"+t).addClass("languageHighlight")})}}}(),function(){function t(t){this.config=t,this.data=this.config.data,this.$plot=$("#"+this.config.cssId),this.scale=d3.select("#"+this.config.scaleCssId),this.fontFamily="Oswald",this.width=this.$plot.width(),this.height=this.$plot.height(),this.artists={},this.addArtistsToPlot(),this.search.init(this,this.config.searchFieldCssId)}function e(t,e,n,a){$("#"+this.config.scaleCssId).children().remove();var o="#FFFFFF",s="#303030",r=25,l=.98*this.width,c=12;this.scale.selectAll("line").data(n).enter().append("line").attr("x1",r).attr("x2",l).attr("y1",function(e){return t(e)}).attr("y2",function(e){return t(e)}).style("stroke",o).style("stroke-width",1),this.scale.selectAll("text").data(n).enter().append("text").attr("x",r).attr("y",function(e){return t(e)-c}).text(function(t){return i(t)+e}).attr("fill",o).attr("font-size",18),a&&(this.scale.append("line").attr("x1",r).attr("x2",l).attr("y1",t(a)).attr("y2",t(a)).style("stroke",s).style("stroke-width",1),this.scale.append("text").text(i(a)+e).attr("fill",s).attr("font-size",16).attr("x",r).attr("y",t(a)-(c-5)),this.scale.append("text").text("Average").attr("fill",s).attr("font-size",16).attr("x",r).attr("y",t(a)-2.1*c))}function i(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}window.VocabPlot={},window.VocabPlot.formatWithCommas=i,window.VocabPlot.newPlot=function(e){return new t(e)},t.prototype={addArtistsToPlot:function(){var t=this;d3.select("#artistCircleContainer").selectAll(this.config.artistCircleCssClass).data(this.data).enter().append("div").attr("id",function(t){return t.name.split(" ").join("_")}).classed(this.config.artistCircleCssClass,!0).each(function(e){t.artists[e.name]=Artist.newArtist(e.name,e)}).transition().duration(300).style("opacity",1),this.arrangeByVocabulary()},arrangeByVocabulary:function(){var t=d3.scale.linear().domain([0,1e4]).range([this.height,0]);e.call(this,t," words",[809,2e3,4e3,6e3,8e3],2677),d3.select("#artistCircleContainer").selectAll("."+this.config.artistCircleCssClass).data(this.data).style("top",function(e){return t(e.vocab_len)-20+"px"}).style("left",function(t){return t.x+t.vocab_x_offset-17.5+"px"})},arrangeBySales:function(){var t=d3.scale.linear().domain([0,300]).range([this.height,0]);e.call(this,t,"M",[18.9,50,100,150,200,250]),d3.select("#artistCircleContainer").selectAll("."+this.config.artistCircleCssClass).data(this.data).style("top",function(e){return t(e.certified_sales)-20+"px"}).style("left",function(t,e){return t.x+t.sales_x_offset-17.5+"px"})},dimAllArtists:function(){for(var t in this.artists)this.artists[t].dim()},undimAllArtists:function(){for(var t in this.artists)this.artists[t].undim(),this.artists[t].unhighlight()},unhighlightAllArtists:function(){for(var t in this.artists)this.artists[t].unhighlight()},highlightArtists:function(t){var e=this;t.forEach(function(t){e.artists[t].highlight()})}},t.prototype.search={init:function(t,e){this.searchField=$("#"+e),this.plot=t,this.artistNames=Object.keys(this.plot.artists),this.searchField.autocomplete({source:[this.artistNames],highlight:!1,limit:8}),this.searchField.focus(function(){t.dimAllArtists();var e=t.$plot.offset();$("html, body").animate({scrollTop:e.top},200)}),this.searchField.blur(function(){t.undimAllArtists(),$(this).val("")});var i,n=this;this.searchField.keyup(function(t){clearTimeout(i),i=setTimeout(function(){return 27===t.keyCode?void n.searchField.blur():void n.highlightMatchingArtists()},250)})},highlightMatchingArtists:function(){var t=this,e=this.artistNames.filter(function(e){var i=t.searchField.val();return i?$.isNumeric(i)?t.plot.artists[e].data.rank_vocab===Number(i):0===e.toUpperCase().indexOf(i.toUpperCase()):void 0}).slice(0,8);this.plot.unhighlightAllArtists(),this.plot.highlightArtists(e)}}}(),function(){"use strict";Handlebars.registerHelper("inc",function(t,e){return parseInt(t)+1}),Handlebars.registerHelper("undy",function(t,e){return t.split(" ").join("_")}),Handlebars.registerHelper("upperCase",function(t,e){return t.toUpperCase()}),vocab_data.forEach(function(t,e){t.x=$("#artistCircleContainer").width()/2});VocabPlot.newPlot({cssId:"vocab_plot",scaleCssId:"vocab_plot_scale",searchFieldCssId:"locateArtist",artistCircleCssClass:"artistContainer",data:vocab_data}),AllArtists.createChart({allChartCssId:"allArtistsContainer"},genre_data);$(".letterArtistImage").each(function(){var t=$(this);t.tipsy({title:function(){return t.attr("id").split("_").join(" ")},gravity:"s",opacity:1,offset:0})}),expandButton.init({button:$("#btn_expandList"),target:$("#allArtistsContainer")});var t=[{name:"Julio_Iglesias",languages:["Spanish","German","English","French","Italian","Portuguese","Russian"]},{name:"Andrea_Bocelli",languages:["Spanish","English","French","Italian","Portuguese"]},{name:"Bz",languages:["Japanese","English"]},{name:"Gloria_Estefan",languages:["English","Spanish","French"]}];polyglotArtists.init({container:$("#polyglotImages"),languageContainer:$("#polyglotLanguages"),languagesContainer:$("#polyglotLanguages"),template:$("#template-polyglots").html(),languagesTemplate:$("#template-polyglots-languages").html(),artistContainer:$(".polyglotImage")},t),$(".polyglotImage:last-child").wrap("<center></center>"),$(".polyglotImage").eq(0).css("margin-left","0"),GenrePlot.init({container:$("#genrePlot"),scaleContainerCssId:"genrePlotScale",legendContainerCssId:"genreLegend",namesContainer:$("#genreNames"),genreNameTemplate:$("#genre-names-template").html()})}();